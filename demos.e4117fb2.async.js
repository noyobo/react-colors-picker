"use strict";(self.webpackChunk_rc_component_color_picker=self.webpackChunk_rc_component_color_picker||[]).push([[433],{32552:function(_e,T,u){u.r(T),u.d(T,{default:function(){return We}});var ee=u(27424),P=u.n(ee),te=u(42122),R=u.n(te),re=u(70215),M=u.n(re),ne=u(50302),oe=u(60869),p=u(67294),D={shiftX:64,adjustY:1},H={adjustX:1,shiftY:!0},S=[0,0],ae={left:{points:["cr","cl"],overflow:H,offset:[-4,0],targetOffset:S},right:{points:["cl","cr"],overflow:H,offset:[4,0],targetOffset:S},top:{points:["bc","tc"],overflow:D,offset:[0,-4],targetOffset:S},bottom:{points:["tc","bc"],overflow:D,offset:[0,4],targetOffset:S},topLeft:{points:["bl","tl"],overflow:D,offset:[0,-4],targetOffset:S},leftTop:{points:["tr","tl"],overflow:H,offset:[-4,0],targetOffset:S},topRight:{points:["br","tr"],overflow:D,offset:[0,-4],targetOffset:S},rightTop:{points:["tl","tr"],overflow:H,offset:[4,0],targetOffset:S},bottomRight:{points:["tr","br"],overflow:D,offset:[0,4],targetOffset:S},rightBottom:{points:["bl","br"],overflow:H,offset:[4,0],targetOffset:S},bottomLeft:{points:["tl","bl"],overflow:D,offset:[0,4],targetOffset:S},leftBottom:{points:["br","bl"],overflow:H,offset:[-4,0],targetOffset:S}},le=ae,se=u(18698),w=u.n(se),ie=u(56690),ce=u.n(ie),ue=u(89728),fe=u.n(ue),ve=u(61655),de=u.n(ve),ge=u(26389),he=u.n(ge),pe=u(98032),me=["v"],B=function(s){de()(t,s);var e=he()(t);function t(o){return ce()(this,t),e.call(this,xe(o))}return fe()(t,[{key:"toHsbString",value:function(){var r=this.toHsb(),n=V(r.s*100),l=V(r.b*100),g=V(r.h),f=r.a,c="hsb(".concat(g,", ").concat(n,"%, ").concat(l,"%)"),i="hsba(".concat(g,", ").concat(n,"%, ").concat(l,"%, ").concat(f.toFixed(f===0?0:2),")");return f===1?c:i}},{key:"toHsb",value:function(){var r=this.toHsv();w()(this.originalInput)==="object"&&this.originalInput&&"h"in this.originalInput&&(r=this.originalInput);var n=r,l=n.v,g=M()(n,me);return R()(R()({},g),{},{b:r.v})}}]),t}(pe.C),Ce=["b"],A="rc-color",V=function(e){return Math.round(Number(e||0))},xe=function(e){if(e&&w()(e)==="object"&&"h"in e&&"b"in e){var t=e,o=t.b,r=M()(t,Ce);return R()(R()({},r),{},{v:o})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},O=function(e){return e instanceof B?e:new B(e)},I=O("#1677ff"),k=function(e){var t=e.offset,o=e.targetRef,r=e.containerRef,n=e.color,l=e.type,g=r.current.getBoundingClientRect(),f=g.width,c=g.height,i=o.current.getBoundingClientRect(),h=i.width,v=i.height,d=h/2,x=v/2,m=(t.x+d)/f,b=1-(t.y+x)/c,C=n.toHsb(),N=m,y=(t.x+d)/f*360;if(l)switch(l){case"hue":return O(R()(R()({},C),{},{h:y<=0?0:y}));case"alpha":return O(R()(R()({},C),{},{a:N<=0?0:N}))}return O({h:C.h,s:m<=0?0:m,b:b>=1?1:b,a:C.a})},z=function(e,t,o,r){var n=e.current.getBoundingClientRect(),l=n.width,g=n.height,f=t.current.getBoundingClientRect(),c=f.width,i=f.height,h=c/2,v=i/2,d=o.toHsb();if(!(c===0&&i===0||c!==i)){if(r)switch(r){case"hue":return{x:d.h/360*l-h,y:-v/3};case"alpha":return{x:d.a/1*l-h,y:-v/3}}return{x:d.s*l-h,y:(1-d.b)*g-v}}},a=u(85893),be=function(e){var t=e.color,o=e.prefixCls,r="".concat(o,"-display");return(0,a.jsx)("div",{className:r,children:(0,a.jsxs)("div",{className:"".concat(r,"-container"),children:[(0,a.jsx)("div",{className:"".concat(r,"-block")}),(0,a.jsx)("div",{className:"".concat(r,"-layer"),style:{background:t.toRgbString()}})]})})},Re=be;function Se(s){var e="touches"in s?s.touches[0]:s,t=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,o=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:e.pageX-t,pageY:e.pageY-o}}function ye(s){var e=s.offest,t=s.targetRef,o=s.containerRef,r=s.direction,n=s.onDragChange,l=s.calculate,g=s.color,f=(0,p.useState)(e||{x:0,y:0}),c=P()(f,2),i=c[0],h=c[1],v=(0,p.useRef)(null),d=(0,p.useRef)(null),x=(0,p.useRef)({flag:!1});(0,p.useEffect)(function(){if(x.current.flag===!1){var y=l==null?void 0:l(o);y&&h(y)}},[g]),(0,p.useEffect)(function(){return function(){document.removeEventListener("mousemove",v.current),document.removeEventListener("mouseup",d.current),document.removeEventListener("touchmove",v.current),document.removeEventListener("touchend",d.current),v.current=null,d.current=null}},[]);var m=function(j){var E=Se(j),Q=E.pageX,$=E.pageY,L=o.current.getBoundingClientRect(),Ge=L.x,Fe=L.y,Ze=L.width,Ue=L.height,q=t.current.getBoundingClientRect(),X=q.width,Y=q.height,Je=X/2,Ke=Y/2,Qe=Math.max(0,Math.min(Q-Ge,Ze))-Je,qe=Math.max(0,Math.min($-Fe,Ue))-Ke,_={x:Qe,y:r==="x"?i.y:qe};if(X===0&&Y===0||X!==Y)return!1;h(_),n==null||n(_)},b=function(j){j.preventDefault(),m(j)},C=function(j){j.preventDefault(),x.current.flag=!1,document.removeEventListener("mousemove",v.current),document.removeEventListener("mouseup",d.current),document.removeEventListener("touchmove",v.current),document.removeEventListener("touchend",d.current),v.current=null,d.current=null},N=function(j){m(j),x.current.flag=!0,document.addEventListener("mousemove",b),document.addEventListener("mouseup",C),document.addEventListener("touchmove",b),document.addEventListener("touchend",C),v.current=b,d.current=C};return[i,N]}var W=ye,je=u(38416),Oe=u.n(je),Pe=u(94184),G=u.n(Pe),De=function(e){var t=e.size,o=t===void 0?"default":t,r=e.color,n=e.prefixCls;return(0,a.jsx)("div",{className:G()("".concat(n,"-handler"),Oe()({},"".concat(n,"-handler-sm"),o==="small")),style:{backgroundColor:r}})},F=De,He=function(e){var t=e.children,o=e.style,r=e.prefixCls;return(0,a.jsx)("div",{className:"".concat(r,"-palette"),style:R()({position:"relative"},o),children:t})},Z=He,Ne=(0,p.forwardRef)(function(s,e){var t=s.children,o=s.offset;return(0,a.jsx)("div",{ref:e,style:{position:"absolute",left:o.x,top:o.y,zIndex:1},children:t})}),U=Ne,Ee=function(e){var t=e.color,o=e.onChange,r=e.prefixCls,n=(0,p.useRef)(),l=(0,p.useRef)(),g=W({color:t,containerRef:n,targetRef:l,calculate:function(v){return z(v,l,t)},onDragChange:function(v){return o(k({offset:v,targetRef:l,containerRef:n,color:t}))}}),f=P()(g,2),c=f[0],i=f[1];return(0,a.jsx)("div",{ref:n,className:"".concat(r,"-picker"),onMouseDown:i,onTouchStart:i,children:(0,a.jsxs)(Z,{prefixCls:r,children:[(0,a.jsx)(U,{offset:c,ref:l,children:(0,a.jsx)(F,{color:t.toRgbString(),prefixCls:r})}),(0,a.jsx)("div",{className:"".concat(r,"-saturation"),style:{backgroundColor:"hsl(".concat(t.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})]})})},Le=Ee,Me=function(e){var t=e.colors,o=e.children,r=e.direction,n=r===void 0?"to right":r,l=e.type,g=e.prefixCls,f=(0,p.useMemo)(function(){return t.map(function(c,i){var h=O(c);return l==="alpha"&&i===t.length-1&&h.setAlpha(1),h.toRgbString()}).join(",")},[t,l]);return(0,a.jsx)("div",{className:"".concat(g,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(n,", ").concat(f,")")},children:o})},Ve=Me,$e=function(e){var t=e.gradientColors,o=e.direction,r=e.type,n=r===void 0?"hue":r,l=e.color,g=e.value,f=e.onChange,c=e.prefixCls,i=(0,p.useRef)(),h=(0,p.useRef)(),v=W({color:l,targetRef:h,containerRef:i,calculate:function(C){return z(C,h,l,n)},onDragChange:function(C){f(k({offset:C,targetRef:h,containerRef:i,color:l,type:n}))},direction:"x"}),d=P()(v,2),x=d[0],m=d[1];return(0,a.jsx)("div",{ref:i,className:G()("".concat(c,"-slider"),"".concat(c,"-slider-").concat(n)),onMouseDown:m,onTouchStart:m,children:(0,a.jsxs)(Z,{prefixCls:c,children:[(0,a.jsx)(U,{offset:x,ref:h,children:(0,a.jsx)(F,{size:"small",color:g,prefixCls:c})}),(0,a.jsx)(Ve,{colors:t,direction:o,type:n,prefixCls:c})]})})},J=$e;function K(s){return s!==void 0}var Xe=function(e,t){var o=t.defaultValue,r=t.value,n=(0,p.useState)(function(){var c;return K(r)?c=r:K(o)?c=o:c=e,O(c)}),l=P()(n,2),g=l[0],f=l[1];return(0,p.useEffect)(function(){r&&f(O(r))},[r]),[g,f]},Ye=Xe,Te=["rgb(255, 0, 0) 0%","rgb(255, 255, 0) 17%","rgb(0, 255, 0) 33%","rgb(0, 255, 255) 50%","rgb(0, 0, 255) 67%","rgb(255, 0, 255) 83%","rgb(255, 0, 0) 100%"],we=function(e){var t=e.value,o=e.defaultValue,r=e.prefixCls,n=r===void 0?A:r,l=e.onChange,g=e.panelRender,f=Ye(I,{value:t,defaultValue:o}),c=P()(f,2),i=c[0],h=c[1],v=(0,p.useMemo)(function(){var m=O(i.toRgbString());return m.setAlpha(1),m.toRgbString()},[i]),d=function(b){t||h(b),l==null||l(b)},x=(0,p.useMemo)(function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Le,{color:i,onChange:d,prefixCls:n}),(0,a.jsxs)("div",{className:"".concat(n,"-slider-container"),children:[(0,a.jsx)(Re,{color:i,prefixCls:n}),(0,a.jsxs)("div",{className:"".concat(n,"-slider-group"),children:[(0,a.jsx)(J,{gradientColors:Te,prefixCls:n,color:i,value:"hsl(".concat(i.toHsb().h,",100%, 50%)"),onChange:d}),(0,a.jsx)(J,{type:"alpha",gradientColors:["rgba(255, 0, 4, 0) 0%",v],prefixCls:n,color:i,value:i.toRgbString(),onChange:d})]})]})]})},[n,v,i,d]);return(0,a.jsx)("div",{className:"".concat(n,"-panel"),children:typeof g=="function"?g(x):x})},Be=we,Ae=["open","disabled","trigger","children","onOpenChange","placement","classNames","style","prefixCls","builtinPlacements","motion"],Ie=function(e){var t=e.open,o=e.disabled,r=e.trigger,n=r===void 0?"click":r,l=e.children,g=e.onOpenChange,f=e.placement,c=f===void 0?"bottomLeft":f,i=e.classNames,h=e.style,v=e.prefixCls,d=v===void 0?A:v,x=e.builtinPlacements,m=x===void 0?le:x,b=e.motion,C=M()(e,Ae),N=(0,oe.Z)(!1,{value:t,postState:function($){return!o&&$},onChange:g}),y=P()(N,2),j=y[0],E=y[1];return(0,a.jsx)(ne.Z,R()(R()({action:[n],popupVisible:j,popup:(0,a.jsx)(Be,R()({},e)),popupPlacement:c,onPopupVisibleChange:E,popupClassName:i==null?void 0:i.popup,popupStyle:h==null?void 0:h.popup,builtinPlacements:m,popupMotion:b,prefixCls:d},C),{},{children:l}))},ke=Ie,ze=ke,We=function(){var s=(0,p.useState)(I),e=P()(s,2),t=e[0],o=e[1];return(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:["hex:",t.getAlpha()===1?t.toHexString():t==null?void 0:t.toHex8String()]}),(0,a.jsxs)("p",{children:["hsv: ",t==null?void 0:t.toHsvString()]}),(0,a.jsxs)("p",{children:["rbg: ",t==null?void 0:t.toRgbString()]}),(0,a.jsx)(ze,{value:t,panelRender:function(n){return(0,a.jsx)("div",{children:n})},onChange:function(n){o(n)},children:(0,a.jsx)("div",{style:{width:30,height:30,background:t==null?void 0:t.toRgbString()}})})]})}}}]);

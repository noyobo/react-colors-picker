"use strict";(self.webpackChunk_rc_component_color_picker=self.webpackChunk_rc_component_color_picker||[]).push([[433],{32552:function(qe,Y,v){v.r(Y),v.d(Y,{default:function(){return ze}});var _=v(27424),D=v.n(_),ee=v(42122),b=v.n(ee),te=v(70215),$=v.n(te),re=v(50302),p=v(67294),H={shiftX:64,adjustY:1},N={adjustX:1,shiftY:!0},R=[0,0],ne={left:{points:["cr","cl"],overflow:N,offset:[-4,0],targetOffset:R},right:{points:["cl","cr"],overflow:N,offset:[4,0],targetOffset:R},top:{points:["bc","tc"],overflow:H,offset:[0,-4],targetOffset:R},bottom:{points:["tc","bc"],overflow:H,offset:[0,4],targetOffset:R},topLeft:{points:["bl","tl"],overflow:H,offset:[0,-4],targetOffset:R},leftTop:{points:["tr","tl"],overflow:N,offset:[-4,0],targetOffset:R},topRight:{points:["br","tr"],overflow:H,offset:[0,-4],targetOffset:R},rightTop:{points:["tl","tr"],overflow:N,offset:[4,0],targetOffset:R},bottomRight:{points:["tr","br"],overflow:H,offset:[0,4],targetOffset:R},rightBottom:{points:["bl","br"],overflow:N,offset:[4,0],targetOffset:R},bottomLeft:{points:["tl","bl"],overflow:H,offset:[0,4],targetOffset:R},leftBottom:{points:["br","bl"],overflow:N,offset:[-4,0],targetOffset:R}},oe=ne,ae=v(18698),w=v.n(ae),le=v(56690),se=v.n(le),ie=v(89728),ce=v.n(ie),ue=v(61655),fe=v.n(ue),ve=v(26389),de=v.n(ve),ge=v(98032),he=["v"],T=function(i){fe()(t,i);var e=de()(t);function t(o){return se()(this,t),e.call(this,me(o))}return ce()(t,[{key:"toHsbString",value:function(){var r=this.toHsb(),n=V(r.s*100),l=V(r.b*100),u=V(r.h),d=r.a,c="hsb(".concat(u,", ").concat(n,"%, ").concat(l,"%)"),s="hsba(".concat(u,", ").concat(n,"%, ").concat(l,"%, ").concat(d.toFixed(d===0?0:2),")");return d===1?c:s}},{key:"toHsb",value:function(){var r=this.toHsv();w()(this.originalInput)==="object"&&this.originalInput&&"h"in this.originalInput&&(r=this.originalInput);var n=r,l=n.v,u=$()(n,he);return b()(b()({},u),{},{b:r.v})}}]),t}(ge.C),pe=["b"],B="rc-color",V=function(e){return Math.round(Number(e||0))},me=function(e){if(e&&w()(e)==="object"&&"h"in e&&"b"in e){var t=e,o=t.b,r=$()(t,pe);return b()(b()({},r),{},{v:o})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},S=function(e){return e instanceof T?e:new T(e)},A=S("#1677ff"),z=function(e){var t=e.offset,o=e.targetRef,r=e.containerRef,n=e.color,l=e.type,u=r.current.getBoundingClientRect(),d=u.width,c=u.height,s=o.current.getBoundingClientRect(),h=s.width,f=s.height,g=h/2,x=f/2,m=(t.x+g)/d,C=1-(t.y+x)/c,j=n.toHsb(),O=m,y=(t.x+g)/d*360;if(l)switch(l){case"hue":return S(b()(b()({},j),{},{h:y<=0?0:y}));case"alpha":return S(b()(b()({},j),{},{a:O<=0?0:O}))}return S({h:j.h,s:m<=0?0:m,b:C>=1?1:C,a:j.a})},I=function(e,t,o,r){var n=e.current.getBoundingClientRect(),l=n.width,u=n.height,d=t.current.getBoundingClientRect(),c=d.width,s=d.height,h=c/2,f=s/2,g=o.toHsb();if(!(c===0&&s===0||c!==s)){if(r)switch(r){case"hue":return{x:g.h/360*l-h,y:-f/3};case"alpha":return{x:g.a/1*l-h,y:-f/3}}return{x:g.s*l-h,y:(1-g.b)*u-f}}},a=v(85893),Ce=function(e){var t=e.color,o=e.prefixCls,r="".concat(o,"-display");return(0,a.jsx)("div",{className:r,children:(0,a.jsxs)("div",{className:"".concat(r,"-container"),children:[(0,a.jsx)("div",{className:"".concat(r,"-block")}),(0,a.jsx)("div",{className:"".concat(r,"-layer"),style:{background:t.toRgbString()}})]})})},xe=Ce;function be(i){var e="touches"in i?i.touches[0]:i,t=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,o=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:e.pageX-t,pageY:e.pageY-o}}function Re(i){var e=i.offest,t=i.targetRef,o=i.containerRef,r=i.direction,n=i.onDragChange,l=i.calculate,u=i.color,d=(0,p.useState)(e||{x:0,y:0}),c=D()(d,2),s=c[0],h=c[1],f=(0,p.useRef)(null),g=(0,p.useRef)(null),x=(0,p.useRef)({flag:!1});(0,p.useEffect)(function(){if(x.current.flag===!1){var y=l==null?void 0:l(o);y&&h(y)}},[u]),(0,p.useEffect)(function(){return function(){document.removeEventListener("mousemove",f.current),document.removeEventListener("mouseup",g.current),document.removeEventListener("touchmove",f.current),document.removeEventListener("touchend",g.current),f.current=null,g.current=null}},[]);var m=function(P){var K=be(P),Ie=K.pageX,We=K.pageY,L=o.current.getBoundingClientRect(),ke=L.x,Ge=L.y,Fe=L.width,Ue=L.height,Q=t.current.getBoundingClientRect(),M=Q.width,X=Q.height,Ze=M/2,Je=X/2,Ke=Math.max(0,Math.min(Ie-ke,Fe))-Ze,Qe=Math.max(0,Math.min(We-Ge,Ue))-Je,q={x:Ke,y:r==="x"?s.y:Qe};if(M===0&&X===0||M!==X)return!1;h(q),n==null||n(q)},C=function(P){P.preventDefault(),m(P)},j=function(P){P.preventDefault(),x.current.flag=!1,document.removeEventListener("mousemove",f.current),document.removeEventListener("mouseup",g.current),document.removeEventListener("touchmove",f.current),document.removeEventListener("touchend",g.current),f.current=null,g.current=null},O=function(P){m(P),x.current.flag=!0,document.addEventListener("mousemove",C),document.addEventListener("mouseup",j),document.addEventListener("touchmove",C),document.addEventListener("touchend",j),f.current=C,g.current=j};return[s,O]}var W=Re,je=function(e){var t=e.colors,o=e.children,r=e.direction,n=r===void 0?"to right":r,l=e.type,u=e.prefixCls,d=(0,p.useMemo)(function(){return t.map(function(c,s){var h=S(c);return l==="alpha"&&s===t.length-1&&h.setAlpha(1),h.toRgbString()}).join(",")},[t,l]);return(0,a.jsx)("div",{className:"".concat(u,"-gradient"),style:{position:"absolute",inset:0,background:t.length===1?d:"linear-gradient(".concat(n,", ").concat(d,")")},children:o})},E=je,ye=v(38416),Se=v.n(ye),Oe=v(94184),k=v.n(Oe),Pe=function(e){var t=e.size,o=t===void 0?"default":t,r=e.color,n=e.prefixCls;return(0,a.jsx)("div",{className:k()("".concat(n,"-handler"),Se()({},"".concat(n,"-handler-sm"),o==="small")),style:{backgroundColor:r}})},G=Pe,De=function(e){var t=e.children,o=e.style,r=e.prefixCls;return(0,a.jsx)("div",{className:"".concat(r,"-palette"),style:b()({position:"relative"},o),children:t})},F=De,He=(0,p.forwardRef)(function(i,e){var t=i.children,o=i.offset;return(0,a.jsx)("div",{ref:e,style:{position:"absolute",left:o.x,top:o.y,zIndex:1},children:t})}),U=He,Ne=function(e){var t=e.color,o=e.onChange,r=e.prefixCls,n=(0,p.useRef)(),l=(0,p.useRef)(),u=W({color:t,containerRef:n,targetRef:l,calculate:function(f){return I(f,l,t)},onDragChange:function(f){return o(z({offset:f,targetRef:l,containerRef:n,color:t}))}}),d=D()(u,2),c=d[0],s=d[1];return(0,a.jsx)("div",{ref:n,className:"".concat(r,"-picker"),onMouseDown:s,onTouchStart:s,children:(0,a.jsxs)(F,{prefixCls:r,children:[(0,a.jsx)(U,{offset:c,ref:l,children:(0,a.jsx)(G,{color:t.toRgbString(),prefixCls:r})}),(0,a.jsx)(E,{colors:["hsl(".concat(t.toHsb().h,",100%, 50%)")],prefixCls:r,children:(0,a.jsx)(E,{prefixCls:r,colors:["rgb(255, 255, 255)","rgba(255, 255, 255, 0)"],direction:"to right",children:(0,a.jsx)(E,{prefixCls:r,colors:["rgb(0, 0, 0)","rgba(0, 0, 0, 0)"],direction:"to top"})})})]})})},Ee=Ne,Le=function(e){var t=e.gradientColors,o=e.direction,r=o===void 0?"to right":o,n=e.type,l=n===void 0?"hue":n,u=e.color,d=e.value,c=e.onChange,s=e.prefixCls,h=(0,p.useRef)(),f=(0,p.useRef)(),g=W({color:u,targetRef:f,containerRef:h,calculate:function(O){return I(O,f,u,l)},onDragChange:function(O){c(z({offset:O,targetRef:f,containerRef:h,color:u,type:l}))},direction:"x"}),x=D()(g,2),m=x[0],C=x[1];return(0,a.jsx)("div",{ref:h,className:k()("".concat(s,"-slider"),"".concat(s,"-slider-").concat(l)),onMouseDown:C,onTouchStart:C,children:(0,a.jsxs)(F,{prefixCls:s,children:[(0,a.jsx)(U,{offset:m,ref:f,children:(0,a.jsx)(G,{size:"small",color:d,prefixCls:s})}),(0,a.jsx)(E,{colors:t,direction:r,type:l,prefixCls:s})]})})},Z=Le;function J(i){return i!==void 0}var $e=function(e,t){var o=t.defaultValue,r=t.value,n=(0,p.useState)(function(){var c;return J(r)?c=r:J(o)?c=o:c=e,S(c)}),l=D()(n,2),u=l[0],d=l[1];return(0,p.useEffect)(function(){r&&d(S(r))},[r]),[u,d]},Ve=$e,Me=["rgb(255, 0, 0) 0%","rgb(255, 255, 0) 17%","rgb(0, 255, 0) 33%","rgb(0, 255, 255) 50%","rgb(0, 0, 255) 67%","rgb(255, 0, 255) 83%","rgb(255, 0, 0) 100%"],Xe=function(e){var t=e.value,o=e.defaultValue,r=e.prefixCls,n=r===void 0?B:r,l=e.onChange,u=e.panelRender,d=Ve(A,{value:t,defaultValue:o}),c=D()(d,2),s=c[0],h=c[1],f=(0,p.useMemo)(function(){var m=S(s.toRgbString());return m.setAlpha(1),m.toRgbString()},[s]),g=function(C){t||h(C),l==null||l(C)},x=(0,p.useMemo)(function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ee,{color:s,onChange:g,prefixCls:n}),(0,a.jsxs)("div",{className:"".concat(n,"-slider-container"),children:[(0,a.jsx)(xe,{color:s,prefixCls:n}),(0,a.jsxs)("div",{className:"".concat(n,"-slider-group"),children:[(0,a.jsx)(Z,{gradientColors:Me,prefixCls:n,color:s,value:"hsl(".concat(s.toHsb().h,",100%, 50%)"),onChange:g}),(0,a.jsx)(Z,{type:"alpha",gradientColors:["rgba(255, 0, 4, 0) 0%",f],prefixCls:n,color:s,value:s.toRgbString(),onChange:g})]})]})]})},[n,f,s,g]);return(0,a.jsx)("div",{className:"".concat(n,"-panel"),children:typeof u=="function"?u(x):x})},Ye=Xe,we=["open","trigger","children","onOpenChange","placement","classNames","style","prefixCls","builtinPlacements","motion"],Te=function(e){var t=e.open,o=e.trigger,r=o===void 0?"hover":o,n=e.children,l=e.onOpenChange,u=e.placement,d=u===void 0?"bottomLeft":u,c=e.classNames,s=e.style,h=e.prefixCls,f=h===void 0?B:h,g=e.builtinPlacements,x=g===void 0?oe:g,m=e.motion,C=$()(e,we);return(0,a.jsx)(re.Z,b()(b()({action:[r],popupVisible:t,popup:(0,a.jsx)(Ye,b()({},e)),popupPlacement:d,onPopupVisibleChange:l,popupClassName:c==null?void 0:c.popup,popupStyle:s==null?void 0:s.popup,builtinPlacements:x,popupMotion:m,prefixCls:f},C),{},{children:n}))},Be=Te,Ae=Be,ze=function(){var i=(0,p.useState)(A),e=D()(i,2),t=e[0],o=e[1];return(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:["hex:",t.getAlpha()===1?t.toHexString():t==null?void 0:t.toHex8String()]}),(0,a.jsxs)("p",{children:["hsv: ",t==null?void 0:t.toHsvString()]}),(0,a.jsxs)("p",{children:["rbg: ",t==null?void 0:t.toRgbString()]}),(0,a.jsx)(Ae,{value:t,panelRender:function(n){return(0,a.jsx)("div",{children:n})},onChange:function(n){o(n)},children:(0,a.jsx)("div",{style:{width:30,height:30,background:t==null?void 0:t.toRgbString()}})})]})}}}]);

"use strict";(self.webpackChunk_rc_component_color_picker=self.webpackChunk_rc_component_color_picker||[]).push([[433],{32552:function(_e,w,u){u.r(w),u.d(w,{default:function(){return ke}});var te=u(27424),D=u.n(te),re=u(42122),b=u.n(re),ne=u(70215),M=u.n(ne),oe=u(50302),ae=u(60869),p=u(67294),H={shiftX:64,adjustY:1},N={adjustX:1,shiftY:!0},R=[0,0],le={left:{points:["cr","cl"],overflow:N,offset:[-4,0],targetOffset:R},right:{points:["cl","cr"],overflow:N,offset:[4,0],targetOffset:R},top:{points:["bc","tc"],overflow:H,offset:[0,-4],targetOffset:R},bottom:{points:["tc","bc"],overflow:H,offset:[0,4],targetOffset:R},topLeft:{points:["bl","tl"],overflow:H,offset:[0,-4],targetOffset:R},leftTop:{points:["tr","tl"],overflow:N,offset:[-4,0],targetOffset:R},topRight:{points:["br","tr"],overflow:H,offset:[0,-4],targetOffset:R},rightTop:{points:["tl","tr"],overflow:N,offset:[4,0],targetOffset:R},bottomRight:{points:["tr","br"],overflow:H,offset:[0,4],targetOffset:R},rightBottom:{points:["bl","br"],overflow:N,offset:[4,0],targetOffset:R},bottomLeft:{points:["tl","bl"],overflow:H,offset:[0,4],targetOffset:R},leftBottom:{points:["br","bl"],overflow:N,offset:[-4,0],targetOffset:R}},se=le,ie=u(18698),B=u.n(ie),ce=u(56690),ue=u.n(ce),fe=u(89728),ve=u.n(fe),de=u(61655),ge=u.n(de),he=u(26389),pe=u.n(he),me=u(98032),Ce=["v"],A=function(i){ge()(t,i);var e=pe()(t);function t(o){return ue()(this,t),e.call(this,be(o))}return ve()(t,[{key:"toHsbString",value:function(){var r=this.toHsb(),n=V(r.s*100),l=V(r.b*100),v=V(r.h),f=r.a,d="hsb(".concat(v,", ").concat(n,"%, ").concat(l,"%)"),s="hsba(".concat(v,", ").concat(n,"%, ").concat(l,"%, ").concat(f.toFixed(f===0?0:2),")");return f===1?d:s}},{key:"toHsb",value:function(){var r=this.toHsv();B()(this.originalInput)==="object"&&this.originalInput&&"h"in this.originalInput&&(r=this.originalInput);var n=r,l=n.v,v=M()(n,Ce);return b()(b()({},v),{},{b:r.v})}}]),t}(me.C),xe=["b"],z="rc-color",V=function(e){return Math.round(Number(e||0))},be=function(e){if(e&&B()(e)==="object"&&"h"in e&&"b"in e){var t=e,o=t.b,r=M()(t,xe);return b()(b()({},r),{},{v:o})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},P=function(e){return e instanceof A?e:new A(e)},I=P("#1677ff"),W=function(e){var t=e.offset,o=e.targetRef,r=e.containerRef,n=e.color,l=e.type,v=r.current.getBoundingClientRect(),f=v.width,d=v.height,s=o.current.getBoundingClientRect(),h=s.width,c=s.height,g=h/2,m=c/2,C=(t.x+g)/f,x=1-(t.y+m)/d,S=n.toHsb(),y=C,j=(t.x+g)/f*360;if(l)switch(l){case"hue":return P(b()(b()({},S),{},{h:j<=0?0:j}));case"alpha":return P(b()(b()({},S),{},{a:y<=0?0:y}))}return P({h:S.h,s:C<=0?0:C,b:x>=1?1:x,a:S.a})},k=function(e,t,o,r){var n=e.current.getBoundingClientRect(),l=n.width,v=n.height,f=t.current.getBoundingClientRect(),d=f.width,s=f.height,h=d/2,c=s/2,g=o.toHsb();if(!(d===0&&s===0||d!==s)){if(r)switch(r){case"hue":return{x:g.h/360*l-h,y:-c/3};case"alpha":return{x:g.a/1*l-h,y:-c/3}}return{x:g.s*l-h,y:(1-g.b)*v-c}}},a=u(85893),Re=function(e){var t=e.color,o=e.prefixCls,r="".concat(o,"-display");return(0,a.jsx)("div",{className:r,children:(0,a.jsxs)("div",{className:"".concat(r,"-container"),children:[(0,a.jsx)("div",{className:"".concat(r,"-block")}),(0,a.jsx)("div",{className:"".concat(r,"-layer"),style:{background:t.toRgbString()}})]})})},Se=Re;function je(i){var e="touches"in i?i.touches[0]:i,t=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,o=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:e.pageX-t,pageY:e.pageY-o}}function ye(i){var e=i.offest,t=i.targetRef,o=i.containerRef,r=i.direction,n=i.onDragChange,l=i.calculate,v=i.color,f=(0,p.useState)(e||{x:0,y:0}),d=D()(f,2),s=d[0],h=d[1],c=(0,p.useRef)(null),g=(0,p.useRef)(null),m=(0,p.useRef)({flag:!1});(0,p.useEffect)(function(){if(m.current.flag===!1){var j=l==null?void 0:l(o);j&&h(j)}},[v]),(0,p.useEffect)(function(){return function(){document.removeEventListener("mousemove",c.current),document.removeEventListener("mouseup",g.current),document.removeEventListener("touchmove",c.current),document.removeEventListener("touchend",g.current),c.current=null,g.current=null}},[]);var C=function(O){var L=je(O),q=L.pageX,X=L.pageY,$=o.current.getBoundingClientRect(),Ge=$.x,Fe=$.y,Ze=$.width,Ue=$.height,_=t.current.getBoundingClientRect(),Y=_.width,T=_.height,Je=Y/2,Ke=T/2,Qe=Math.max(0,Math.min(q-Ge,Ze))-Je,qe=Math.max(0,Math.min(X-Fe,Ue))-Ke,ee={x:Qe,y:r==="x"?s.y:qe};if(Y===0&&T===0||Y!==T)return!1;h(ee),n==null||n(ee)},x=function(O){O.preventDefault(),C(O)},S=function(O){O.preventDefault(),m.current.flag=!1,document.removeEventListener("mousemove",c.current),document.removeEventListener("mouseup",g.current),document.removeEventListener("touchmove",c.current),document.removeEventListener("touchend",g.current),c.current=null,g.current=null},y=function(O){C(O),m.current.flag=!0,document.addEventListener("mousemove",x),document.addEventListener("mouseup",S),document.addEventListener("touchmove",x),document.addEventListener("touchend",S),c.current=x,g.current=S};return[s,y]}var G=ye,Oe=function(e){var t=e.colors,o=e.children,r=e.direction,n=r===void 0?"to right":r,l=e.type,v=e.prefixCls,f=(0,p.useMemo)(function(){return t.map(function(d,s){var h=P(d);return l==="alpha"&&s===t.length-1&&h.setAlpha(1),h.toRgbString()}).join(",")},[t,l]);return(0,a.jsx)("div",{className:"".concat(v,"-gradient"),style:{position:"absolute",inset:0,background:t.length===1?f:"linear-gradient(".concat(n,", ").concat(f,")")},children:o})},E=Oe,Pe=u(38416),De=u.n(Pe),He=u(94184),F=u.n(He),Ne=function(e){var t=e.size,o=t===void 0?"default":t,r=e.color,n=e.prefixCls;return(0,a.jsx)("div",{className:F()("".concat(n,"-handler"),De()({},"".concat(n,"-handler-sm"),o==="small")),style:{backgroundColor:r}})},Z=Ne,Ee=function(e){var t=e.children,o=e.style,r=e.prefixCls;return(0,a.jsx)("div",{className:"".concat(r,"-palette"),style:b()({position:"relative"},o),children:t})},U=Ee,Le=(0,p.forwardRef)(function(i,e){var t=i.children,o=i.offset;return(0,a.jsx)("div",{ref:e,style:{position:"absolute",left:o.x,top:o.y,zIndex:1},children:t})}),J=Le,$e=function(e){var t=e.color,o=e.onChange,r=e.prefixCls,n=(0,p.useRef)(),l=(0,p.useRef)(),v=G({color:t,containerRef:n,targetRef:l,calculate:function(c){return k(c,l,t)},onDragChange:function(c){return o(W({offset:c,targetRef:l,containerRef:n,color:t}))}}),f=D()(v,2),d=f[0],s=f[1];return(0,a.jsx)("div",{ref:n,className:"".concat(r,"-picker"),onMouseDown:s,onTouchStart:s,children:(0,a.jsxs)(U,{prefixCls:r,children:[(0,a.jsx)(J,{offset:d,ref:l,children:(0,a.jsx)(Z,{color:t.toRgbString(),prefixCls:r})}),(0,a.jsx)(E,{colors:["hsl(".concat(t.toHsb().h,",100%, 50%)")],prefixCls:r,children:(0,a.jsx)(E,{prefixCls:r,colors:["rgb(255, 255, 255)","rgba(255, 255, 255, 0)"],direction:"to right",children:(0,a.jsx)(E,{prefixCls:r,colors:["rgb(0, 0, 0)","rgba(0, 0, 0, 0)"],direction:"to top"})})})]})})},Me=$e,Ve=function(e){var t=e.gradientColors,o=e.direction,r=o===void 0?"to right":o,n=e.type,l=n===void 0?"hue":n,v=e.color,f=e.value,d=e.onChange,s=e.prefixCls,h=(0,p.useRef)(),c=(0,p.useRef)(),g=G({color:v,targetRef:c,containerRef:h,calculate:function(y){return k(y,c,v,l)},onDragChange:function(y){d(W({offset:y,targetRef:c,containerRef:h,color:v,type:l}))},direction:"x"}),m=D()(g,2),C=m[0],x=m[1];return(0,a.jsx)("div",{ref:h,className:F()("".concat(s,"-slider"),"".concat(s,"-slider-").concat(l)),onMouseDown:x,onTouchStart:x,children:(0,a.jsxs)(U,{prefixCls:s,children:[(0,a.jsx)(J,{offset:C,ref:c,children:(0,a.jsx)(Z,{size:"small",color:f,prefixCls:s})}),(0,a.jsx)(E,{colors:t,direction:r,type:l,prefixCls:s})]})})},K=Ve;function Q(i){return i!==void 0}var Xe=function(e,t){var o=t.defaultValue,r=t.value,n=(0,p.useState)(function(){var d;return Q(r)?d=r:Q(o)?d=o:d=e,P(d)}),l=D()(n,2),v=l[0],f=l[1];return(0,p.useEffect)(function(){r&&f(P(r))},[r]),[v,f]},Ye=Xe,Te=["rgb(255, 0, 0) 0%","rgb(255, 255, 0) 17%","rgb(0, 255, 0) 33%","rgb(0, 255, 255) 50%","rgb(0, 0, 255) 67%","rgb(255, 0, 255) 83%","rgb(255, 0, 0) 100%"],we=function(e){var t=e.value,o=e.defaultValue,r=e.prefixCls,n=r===void 0?z:r,l=e.onChange,v=e.panelRender,f=Ye(I,{value:t,defaultValue:o}),d=D()(f,2),s=d[0],h=d[1],c=(0,p.useMemo)(function(){var C=P(s.toRgbString());return C.setAlpha(1),C.toRgbString()},[s]),g=function(x){t||h(x),l==null||l(x)},m=(0,p.useMemo)(function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Me,{color:s,onChange:g,prefixCls:n}),(0,a.jsxs)("div",{className:"".concat(n,"-slider-container"),children:[(0,a.jsx)(Se,{color:s,prefixCls:n}),(0,a.jsxs)("div",{className:"".concat(n,"-slider-group"),children:[(0,a.jsx)(K,{gradientColors:Te,prefixCls:n,color:s,value:"hsl(".concat(s.toHsb().h,",100%, 50%)"),onChange:g}),(0,a.jsx)(K,{type:"alpha",gradientColors:["rgba(255, 0, 4, 0) 0%",c],prefixCls:n,color:s,value:s.toRgbString(),onChange:g})]})]})]})},[n,c,s,g]);return(0,a.jsx)("div",{className:"".concat(n,"-panel"),children:typeof v=="function"?v(m):m})},Be=we,Ae=["open","disabled","trigger","children","onOpenChange","placement","classNames","style","prefixCls","builtinPlacements","motion"],ze=function(e){var t=e.open,o=e.disabled,r=e.trigger,n=r===void 0?"click":r,l=e.children,v=e.onOpenChange,f=e.placement,d=f===void 0?"bottomLeft":f,s=e.classNames,h=e.style,c=e.prefixCls,g=c===void 0?z:c,m=e.builtinPlacements,C=m===void 0?se:m,x=e.motion,S=M()(e,Ae),y=(0,ae.Z)(!1,{value:t,postState:function(X){return!o&&X},onChange:v}),j=D()(y,2),O=j[0],L=j[1];return(0,a.jsx)(oe.Z,b()(b()({action:[n],popupVisible:O,popup:(0,a.jsx)(Be,b()({},e)),popupPlacement:d,onPopupVisibleChange:L,popupClassName:s==null?void 0:s.popup,popupStyle:h==null?void 0:h.popup,builtinPlacements:C,popupMotion:x,prefixCls:g},S),{},{children:l}))},Ie=ze,We=Ie,ke=function(){var i=(0,p.useState)(I),e=D()(i,2),t=e[0],o=e[1];return(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:["hex:",t.getAlpha()===1?t.toHexString():t==null?void 0:t.toHex8String()]}),(0,a.jsxs)("p",{children:["hsv: ",t==null?void 0:t.toHsvString()]}),(0,a.jsxs)("p",{children:["rbg: ",t==null?void 0:t.toRgbString()]}),(0,a.jsx)(We,{value:t,panelRender:function(n){return(0,a.jsx)("div",{children:n})},onChange:function(n){o(n)},children:(0,a.jsx)("div",{style:{width:30,height:30,background:t==null?void 0:t.toRgbString()}})})]})}}}]);
